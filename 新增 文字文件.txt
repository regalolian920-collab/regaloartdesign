<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REGALO Nails</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Noto+Serif+TC:wght@400;600&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
  
  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            serif: ['"Noto Serif TC"', 'serif'],
            sans: ['"Noto Sans TC"', 'sans-serif'],
            display: ['"Cinzel"', 'serif'],
          },
          colors: {
            cream: {
              50: '#FDFCF8',
              100: '#F9F6F0',
              200: '#F0EBE0',
              300: '#E6DFC8',
            },
            sand: {
              400: '#D4C5A9',
              500: '#BFA985',
              600: '#9E8866',
            },
            stone: {
              800: '#44403C',
            }
          }
        }
      }
    }
  </script>

  <!-- Import Map (Fixed for React 18 Compatibility) -->
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "react/jsx-runtime": "https://esm.sh/react@18.2.0/jsx-runtime",
    "lucide-react": "https://esm.sh/lucide-react@0.294.0",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/"
  }
}
</script>

  <!-- Babel for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      background-color: #FDFCF8;
      color: #44403C;
    }
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- Main Application Script -->
  <script type="text/babel" data-type="module">
    import React, { useState, useEffect, useRef } from 'react';
    import { createRoot } from 'react-dom/client';
    import { 
      ChevronLeft, ChevronRight, Instagram, MessageCircle, X, BadgeCheck, 
      ArrowRight, Copy, Check, Clock, MapPin, ChevronDown, ChevronUp, AlertCircle,
      Sparkles, Send, Loader2, Bot, Star
    } from 'lucide-react';
    
    // æ³¨æ„ï¼šè‹¥è¦ä½¿ç”¨ AI åŠŸèƒ½ï¼Œè«‹åœ¨æ­¤å¡«å…¥æ‚¨çš„ API Keyï¼Œè‹¥ç„¡å¯ç•™ç©º
    // const GOOGLE_API_KEY = "æ‚¨çš„_API_KEY"; 
    
    // ç‚ºäº†å®‰å…¨èµ·è¦‹ï¼Œè‹¥è¦åœ¨ GitHub Pages ä¸Šä½¿ç”¨ AIï¼Œå»ºè­°ä¸è¦ç›´æ¥å°‡ Key å¯«æ­»åœ¨å…¬é–‹ä»£ç¢¼ä¸­
    // é€™è£¡æˆ‘å€‘ä¿ç•™ä»‹é¢ï¼Œä½†ä¸åŸ·è¡Œå¯¦éš› API å‘¼å«ï¼Œé™¤éæ‚¨å¡«å…¥ Key

    // --- TYPES & ENUMS (Converted to standard JS Objects) ---
    const PageTab = {
      PRICES: 'prices',
      BOOKING_PROCESS: 'booking_process',
      ARTISTS: 'artists',
      BOOKING: 'booking',
      PRE_CARE: 'pre_care',
      AFTER_CARE: 'after_care',
      FAQ: 'faq'
    };

    // --- CONSTANTS & DATA ---
    const SALON_NAME = "REGALO";
    const PEER_WARNING = "ç‚ºä¿è­‰æ•™å­¸èª²ç¨‹ä»˜è²»å­¸å“¡ä¹‹æ¬Šç›Šï¼Œæ•ä¸æ¥å¾…åŒè¡Œé ç´„æœå‹™";

    const SALON_FEATURES = [
      {
        title: "æ¡ç”¨ä¸€å±¤æ®˜",
        description: "æœ¬åº—å …æŒæ¡ç”¨æ—¥å¼ã€Œä¸€å±¤æ®˜ã€æŠ€è¡“ï¼ˆFill-inï¼‰ã€‚ä¸åŒæ–¼å‚³çµ±å®Œå…¨å¸ç”²ï¼Œæ­¤æŠ€è¡“åœ¨ä¿®æ•´æ™‚ä¿ç•™åŸºåº•è† å±¤ï¼Œé¿å…åè¦†æ‹‹ç£¨çœŸç”²è¡¨é¢ã€‚é€™èƒ½æœ‰æ•ˆä¿è­·æŒ‡ç”²çµæ§‹ï¼Œè®“æ‚¨çš„çœŸç”²åœ¨é•·æœŸåšç¾ç”²çš„æƒ…æ³ä¸‹ï¼Œä¾ç„¶ç¶­æŒå¥åº·åšåº¦èˆ‡å¼·éŸŒåº¦ï¼Œæ˜¯é‡è¦–æŒ‡ç”²å¥åº·çš„æ‚¨çš„æœ€ä½³é¸æ“‡ã€‚"
      },
      {
        title: "èª²ç¨‹æ•™å­¸",
        description: "æƒ³æˆç‚ºå°ˆæ¥­ç¾ç”²å¸«å—ï¼Ÿæˆ‘å€‘æä¾›å®Œæ•´çš„æ•™å­¸é«”ç³»ï¼š\n\nã€é›¶åŸºç¤å…¨ç§‘ç­ã€‘\nâ€¢ å¾æŒ‡ç”²å­¸é–‹å§‹å­¸ç¿’ï¼Œè‡³ä¿é¤Šåˆ°æ–½ä½œçš„ç´®å¯¦åŸºæœ¬åŠŸã€‚\n\nã€é€²ä¿®èª²ç¨‹ã€‘ï¼ˆé©åˆå·²æ˜¯ç¾ç”²å¸«ï¼‰\nâ€¢ é€²éšä¸€å±¤æ®˜å°ˆç­ï¼šæŒæ¡ä¸å‚·ç”²çš„é«˜éšæŠ€è¡“ã€‚\nâ€¢ æ—¥ç³»é€ å‹è¨­è¨ˆèª²ï¼šå­¸ç¿’æ™‚ä¸‹æœ€æµè¡Œçš„æšˆæŸ“èˆ‡è¤‡åˆåª’æé‹ç”¨ã€‚\n\nã€å®¢è£½åŒ–èª²ç¨‹ã€‘\nâ€¢ é‡å°æƒ³åŠ å¼·çš„éƒ¨åˆ†ï¼ˆå¦‚å‰ç½®ä¿é¤Šã€æ³•å¼ç­‰ï¼‰ï¼Œçš†å¯ç›´æ¥è¨è«–ä¸¦å®‰æ’æ—¥æœŸã€‚\n\næ¡å°ç­åˆ¶æ•™å­¸ï¼Œæ‰‹æŠŠæ‰‹æŒ‡å°ï¼Œæ­¡è¿ç§è¨Šè«®è©¢èª²ç¨‹ç´°ç¯€ã€‚",
        lineUrl: "https://lin.ee/zJHaM9bD"
      },
      {
        title: "æ—¥ç³» Nuance",
        description: "æ“…é•·æ—¥ç³» Nuance é¢¨æ ¼ï¼Œæ•æ‰å…‰å½±èˆ‡è‰²å½©çš„æµå‹•æ„Ÿã€‚æˆ‘å€‘ä½¿ç”¨å¤šç¨®è³ªåœ°çš„å‡è† èˆ‡æšˆæŸ“æ¶²ï¼Œå †ç–Šå‡ºå¦‚æ°´å½©èˆ¬è¼•æŸ”ã€å¯Œæœ‰å±¤æ¬¡çš„è—è¡“æ°£æ¯ã€‚æ¯ä¸€æ¬¾è¨­è¨ˆéƒ½æ˜¯ç¨ä¸€ç„¡äºŒçš„ï¼Œç‚ºæŒ‡å°–å¸¶ä¾†å„ªé›…è€Œè€çœ‹çš„æ°£è³ªï¼Œéå¸¸é©åˆè¿½æ±‚è³ªæ„Ÿèˆ‡ç´°ç¯€çš„æ‚¨ã€‚"
      },
      {
        title: "æ—¥ç³»å€‹æ€§æ´¾",
        description: "å°ˆç‚ºå–œæ­¡ç¨ç‰¹ã€ä¸éš¨æ³¢é€æµçš„æ‚¨æ‰“é€ ã€‚é‹ç”¨é‡‘å±¬å…ƒç´ ã€ç‰¹æ®Šç•°æè³ªã€ç¤¦çŸ³ç´‹ç†æˆ–ä¸å°ç¨±è¨­è¨ˆï¼Œå±•ç¾å¼·çƒˆçš„å€‹äººé¢¨æ ¼ã€‚æ—¢æœ‰æ—¥ç³»çš„ç²¾ç·»ï¼Œåˆå¸¶æœ‰ç‡æ€§çš„æ™‚é«¦æ„Ÿï¼Œè®“æŒ‡å°–æˆç‚ºæ‚¨å…¨èº«ç©¿æ­ä¸­æœ€å¸ç›çš„äº®é»ã€‚"
      }
    ];

    const ARTIST_LIST = [
      {
        name: "é‡Œå®‰ (Lian)",
        title: "Founder / è¬›å¸«",
        experience: "è³‡æ­· 10 å¹´ / æ•™å­¸ 6 å¹´",
        specialties: ["æ—¥ç³» Nuance", "æ—¥ç³»å€‹æ€§æ´¾", "ç¨ç‰¹ç¾æ„Ÿ"],
        tags: ["è™•å¥³åº§ç´°ç¯€æ§", "å¯éœå¯å‹•", "è³ªæ„Ÿå …æŒ"],
        certifications: ["æ—¥æœ¬ JNA è­‰ç…§", "æ—¥æœ¬ JNEC è­‰ç…§", "æ—¥æœ¬è¡›ç”Ÿç®¡ç†å£«"],
        description: "æˆ‘æ˜¯é‡Œå®‰ï¼Œèº«ç‚ºç´°ç¯€æ§çš„è™•å¥³åº§ï¼Œæˆ‘å°æŒ‡å°–çš„ç¾æ„Ÿèˆ‡ç²¾ç·»åº¦æœ‰è‘—ä¸å¦¥å”çš„å …æŒã€‚æ“…é•·æ—¥ç³»å€‹æ€§é¢¨èˆ‡ Nuance æšˆæŸ“ï¼Œå°é…è‰²æœ‰è‘—ç¨åˆ°çš„è¦‹è§£ã€‚\n\næˆ‘éå¸¸äº«å—æ–½ä½œéç¨‹ä¸­å°ˆæ³¨çš„å¯§éœï¼Œå¦‚æœæ‚¨ä¹Ÿå–œæ­¡å®‰éœæ”¾é¬†çš„ç¾ç”²æ™‚å…‰ï¼Œé€™è£¡æœƒéå¸¸é©åˆæ‚¨ã€‚ç•¶ç„¶ï¼Œæˆ‘æ˜¯ã€Œå¯éœå¯å‹•ã€çš„ï¼Œè‹¥æ‚¨æƒ³åˆ†äº«ç”Ÿæ´»é»æ»´ï¼Œæˆ‘ä¹Ÿæ¨‚æ–¼å‚¾è½ã€‚æœŸå¾…ç‚ºæ‚¨æ‰“é€ ç¨ä¸€ç„¡äºŒçš„æŒ‡å°–è—è¡“ã€‚",
        instagramUrl: "https://www.instagram.com/regalolian_?igsh=aTVucHJrbWE0YXl6"
      },
      {
        name: "å®‰å®‰ (Ann)",
        title: "ç¾ç”²å¸«",
        experience: "è³‡æ­· 1.5 å¹´",
        specialties: ["æ—¥ç³» Nuance", "éŸ“ç³»æ¸…æ–°é¢¨æ ¼"],
        tags: ["I äººç¾ç”²å¸«", "ç´°å¿ƒèªçœŸ", "å°è³‡æ—é¦–é¸"],
        description: "æˆ‘æ˜¯å®‰å®‰ï¼Œä¸€ä½å…¸å‹çš„ I äººç¾ç”²å¸«ã€‚é›–ç„¶ç›®å‰è³‡æ­·å°šæ·ºï¼Œä½†æ˜¯å·²ç¶“éç³»çµ±åŒ–å°ˆæ¥­è¨“ç·´å‡ºä¾†çš„ç¾ç”²å¸«ï¼Œæ“æœ‰ä¸€é¡†é¡˜æ„èªçœŸå­¸ç¿’çš„å¿ƒã€‚æˆ‘æ“…é•·æ¸…é€è‡ªç„¶çš„éŸ“ç³»æ¸…æ–°é¢¨æ ¼èˆ‡æ—¥ç³»æšˆæŸ“ï¼Œåƒ¹æ ¼è¦ªæ°‘ï¼Œéå¸¸é©åˆå°è³‡å¥³å­©æˆ–åˆæ¬¡å˜—è©¦ç¾ç”²çš„æ‚¨ã€‚\n\nå¦‚æœæ‚¨å–œæ­¡å®‰éœã€ä¸è¢«æ‰“æ“¾çš„æ–½ä½œæ°›åœï¼Œæˆ‘æœƒæ˜¯æ‚¨å¾ˆå¥½çš„é¸æ“‡ã€‚ç•¶ç„¶ï¼Œè‹¥æ‚¨æƒ³è¦è¼•é¬†é–’èŠï¼Œæˆ‘ä¹Ÿå¾ˆæ¨‚æ„ã€‚å¸Œæœ›èƒ½ç”¨æˆ‘çš„ç´°å¿ƒï¼Œç‚ºæ‚¨çš„æŒ‡å°–å¸¶ä¾†ç¾å¥½èˆ‡è‡ªä¿¡ã€‚",
        instagramUrl: "https://www.instagram.com/regalo_annn?igsh=MTk2dTdxbnV0d2tqbw=="
      }
    ];

    // Founder Lian's Price List
    const PRICE_LIST_LIAN = [
      {
        title: "GEL POLISH | å‡è† ",
        items: [
          // { name: "é€æ˜ (Transparent)", price: "1100" }, // Removed as requested
          { name: "è²“çœ¼ (Magnet)", price: "1600" },
          { name: "æ¼¸å±¤ (Gradient)", price: "1800" },
          { name: "æ³•å¼ (French)", price: "2000" },
          { name: "é€ å‹è¨­è¨ˆ (Design)", price: "2300 up", className: "pt-8" },
        ]
      },
      {
        title: "REMOVE | å¸ç”²/é‡ä½œ(æœ¬åº—æ¡ç”¨æ—¥å¼ä¸€å±¤æ®˜)",
        items: [
          { name: "æœ¬åº—å¸ç”²é‡åš", price: "200" },
          { name: "ä»–åº—å¸ç”²é‡åš", price: "300" },
          { name: "ä»–åº—é€ å‹å¸ç”²é‡åš", price: "400" },
          { name: "æœ¬åº—å¸ç”²ä¸çºŒåš", price: "600" },
        ]
      },
      {
        title: "ADD-ONS | åŠ è³¼ / è¨­è¨ˆ",
        items: [
          { name: "é¡é¢", price: "100/æŒ‡" },
          { name: "æšˆæŸ“", price: "100 up" }, // changed UP to up
          { name: "ç«‹é«”", price: "100 up" }, // changed UP to up
          { name: "åŸºåº•å¢ç¡¬", price: "50/æŒ‡" },
          { name: "è£œæ–·ç”²", price: "100/æŒ‡" },
          { name: "å‡è† å»¶ç”²", price: "100 up" }, // changed UP to up
          { name: "æ°´æ™¶å»¶ç”²", price: "200 up" }, // changed UP to up
          { name: "ä»–åº—å»¶ç”²ä¿®æ•´", price: "100 up" }, // changed UP to up
        ]
      }
    ];

    // Stylist Ann's Price List
    const PRICE_LIST_ANN = [
      {
        title: "GEL POLISH | å‡è† ",
        items: [
          { name: "é€æ˜ (Transparent)", price: "600" },
          { name: "å–®è‰² (èˆ’é©çš„å–®è‰²)", price: "800" },
          { name: "è²“çœ¼ (Magnet)", price: "1200" },
          { name: "é¡é¢ (Mirror)", price: "1300" },
          { name: "æ³•å¼ (French)", price: "1500" },
          { name: "A é€ å‹ (ç°¡æ˜“é€ å‹)", price: "1200-1400", className: "pt-8" },
          { name: "B é€ å‹ (é€²éšé€ å‹)", price: "1300-1600" },
          { name: "ç›²ç›’è¨­è¨ˆ (ç”±ç¾ç”²å¸«è‡ªç”±ç™¼æ®)", price: "1500-1800" },
        ]
      },
      {
        title: "REMOVE | å¸ç”²/é‡ä½œ(æœ¬åº—æ¡ç”¨æ—¥å¼ä¸€å±¤æ®˜)",
        items: [
          { name: "æœ¬åº—å¸ç”²çºŒä½œ", price: "200" },
          { name: "ä»–åº—å¸ç”²çºŒä½œ", price: "300-400" },
          { name: "å¸ç”²ä¸çºŒä½œ", price: "500" },
        ]
      },
      {
        title: "ADD-ONS | åŠ è³¼ / è¨­è¨ˆ",
        items: [
          { name: "æšˆæŸ“", price: "50 up" }, // changed UP to up for consistency
          { name: "ç«‹é«”", price: "50 up" }, // changed UP to up for consistency
          { name: "åŸºåº•å¢ç¡¬", price: "50/æŒ‡" },
          { name: "è£œæ–·ç”²", price: "100/æŒ‡" },
          { name: "å‡è† å»¶ç”²", price: "100/æŒ‡" },
        ]
      }
    ];

    // Default export for backward compatibility and general reference
    const PRICE_LIST = PRICE_LIST_LIAN;

    const BOOKING_POLICY = {
      id: 'booking',
      title: 'é ç´„é ˆçŸ¥',
      subtitle: 'å®Œå…¨é ç´„åˆ¶',
      content: [
        `<b>${PEER_WARNING}</b>`,
        "<b>æ–°å®¢é ç´„éœ€æ”¯ä»˜å®šé‡‘ $500</b>ï¼ˆç¢ºèªæ™‚æ®µå¾Œæä¾›å¸³è™Ÿï¼Œéœ€æ–¼ 24 å°æ™‚å…§åŒ¯æ¬¾ï¼Œé€¾æ™‚è¦–åŒæ”¾æ£„ï¼‰ã€‚",
        "<b>å®šé‡‘å…¥å¸³æ‰ç®—é ç´„æˆåŠŸ</b>ï¼Œå±†æ™‚å°‡æä¾›è©³ç´°å·¥ä½œå®¤åœ°å€ã€‚",
        "ç‚ºç¶­è­·æœå‹™å“è³ªï¼Œè«‹å‹¿æ”œä¼´ã€‚",
        "ç„¡æ•…çˆ½ç´„ / ç•¶æ—¥å–æ¶ˆï¼Œæ•ä¸é€€é‚„å®šé‡‘ã€‚",
        "å–æ¶ˆæˆ–æ›´æ”¹é ç´„æ™‚é–“ï¼Œè«‹å‹™å¿…æå‰ 5 å¤©å‘ŠçŸ¥ï¼ˆæ›´æ”¹åƒ…é™ 1 æ¬¡ï¼‰ã€‚",
        "è‡¨æ™‚æ›´æ”¹é …ç›®æ•ä¸é€€å·®é¡ï¼ˆå¦‚ï¼šåŸé ç´„é€ å‹å‡è† ï¼Œç•¶å¤©æ”¹ç‚ºç´”å¸ç”²ï¼‰ã€‚",
        "æ‰€æœ‰æµç¨‹å«è¨è«–ã€å¸ç”²ã€ç²¾ç·»å‰ç½®ä¿é¤Šï¼Œç´„éœ€ 2.5 - 3 å°æ™‚ï¼Œè«‹é ç•™å……è£•æ™‚é–“ã€‚",
        "ç‚ºç¶­è­·ç”¢å‡ºå“è³ªï¼Œç„¡æ³•å£“ç¸®æ–½ä½œæ™‚é–“ï¼Œè¶•æ™‚é–“è€…è«‹æ–Ÿé…Œã€‚",
        "é ç´„æ™‚æ®µä¿ç•™ 10 åˆ†é˜ï¼Œé€¾æ™‚å°‡è¦–æƒ…æ³ç°¡åŒ–è¨­è¨ˆæˆ–è¦–åŒå–æ¶ˆã€‚",
        "å› ç¾å ´å¶æœ‰çªç™¼ç‹€æ³ï¼ˆå¦‚å‰ä¸€ä½å®¢äººå»¶èª¤ï¼‰ï¼Œè‹¥éœ€ç¨å¾®ç­‰å¾…æ•¬è«‹è¦‹è«’ã€‚",
        "æä¾› 7 å¤©éäººç‚ºå› ç´ ä¿å›ºï¼ˆå¦‚èµ·ç¿¹ã€è„«è½ï¼‰ï¼Œè«‹æ‹ç…§è¯ç¹«è™•ç†ã€‚",
        "ä»¥ä¸Šè©³é–±å¾Œï¼Œç¢ºèªç„¡èª¤æ­¡è¿é ç´„ï¼ˆREGALO ä¿æœ‰ä»¥ä¸Šèªªæ˜æ¬Šï¼‰ã€‚"
      ]
    };

    const PRE_CARE = {
      id: 'pre_care',
      title: 'æ–½ä½œå‰æº–å‚™',
      content: [
        "<b>ä¸å¿…ä¿®å‰ªæŒ‡ç”²</b>ï¼šå»ºè­°ä¿ç•™æŒ‡ç™½ 2-3mmï¼Œç¾ç”²å¸«å°‡ç‚ºæ‚¨ä¿®æ•´è‡³æœ€é©åˆæ–½ä½œçš„ç”²å‹ã€‚",
        "<b>é¿å…æ²¹åˆ†</b>ï¼šæ–½ä½œå‰ 24 å°æ™‚è«‹å‹¿éåº¦å¡—æŠ¹æŒ‡ç·£æ²¹æˆ–ä¹³æ¶²ï¼Œéå¤šæ²¹åˆ†æœƒå½±éŸ¿å‡è† é™„è‘—åŠ›ã€‚",
        "<b>æŒ‡ç”²å¥åº·</b>ï¼šè‹¥æŒ‡ç·£å‘¨åœæœ‰å‚·å£ã€ç´…è…«æˆ–é»´èŒæ„ŸæŸ“ï¼Œå»ºè­°å¾…ç—Šç™’å¾Œå†é ç´„æ–½ä½œã€‚",
        "<b>æœå‹™é …ç›®</b>ï¼šæœ¬åº—ä»¥å€‹äººã€ŒçœŸç”²ã€æ–½ä½œç‚ºä¸»ï¼Œç„¡æä¾›é»è²¼å¼ç”²ç‰‡æœå‹™ã€‚",
        "<b>æ¬¾å¼æºé€š</b>ï¼šè«‹æº–å‚™æ¬²æ–½ä½œçš„æ¬¾å¼åœ–ç‰‡ï¼Œç¾å ´è¨è«–èƒ½æé«˜æˆå“æº–ç¢ºåº¦ã€‚",
        "<b>é¢¨æ ¼ç¢ºèª</b>ï¼šè¨­è¨ˆé€ å‹ä¸åˆ†ç°¡æ˜“æˆ–é«˜éšï¼Œé ç´„å‰è«‹å…ˆç¢ºèªå–œæ„›æœ¬åº—é¢¨æ ¼ã€‚"
      ]
    };

    const AFTER_CARE = {
      id: 'after_care',
      title: 'ä¿é¤Šé ˆçŸ¥',
      content: [
        "å‰›åšå®Œå‡è† æŒ‡ç”²å¾Œï¼Œ<b>é¿å…ç”¨æŒ‡å°–æ‘³ç¡¬ç‰©</b>ï¼ˆå¦‚æ˜“é–‹ç½ã€é‘°åŒ™åœˆï¼‰ã€‚",
        "æ´—æ¾¡å¾ŒæŒ‡ç”²æœƒè®Šè»Ÿï¼Œæ­¤æ™‚è«‹å‹¿ç”¨åŠ›æ’æ“Šã€‚",
        "å»ºè­°æ¯æ—¥å¡—æŠ¹æŒ‡ç·£æ²¹ 2-3 æ¬¡ï¼Œä¿æŒæŒ‡ç·£æ»‹æ½¤ï¼Œæ¸›å°‘ç”˜çš®å¢ç”Ÿã€‚",
        "é¿å…é•·æ™‚é–“æ¥è§¸ç†±æ°´ã€æº«æ³‰æˆ–ä½¿ç”¨å¼·é…¸å¼·é¹¼æ¸…æ½”åŠ‘ï¼Œå»ºè­°æˆ´æ‰‹å¥—ã€‚",
        "<b>æ­£ç¢ºè§€å¿µ</b>ï¼šå‡è† æŒ‡ç”²å±¬ç¾åŒ–æ€§è³ªçš„ã€Œæ¶ˆè€—å“ã€ï¼Œç„¡é™„å¸¶é‡‘å‰›ä¸å£åŠŸèƒ½ï¼Œæ—¥å¸¸ä½¿ç”¨ç”¢ç”Ÿç£¨æçš†å±¬æ­£å¸¸ã€‚",
        "<b>å¸é™¤è§€å¿µ</b>ï¼šå‡è† æŒ‡ç”²éœ€äº¤ç”±å°ˆæ¥­ç¾ç”²å¸«å¸é™¤ï¼Œ<b>åˆ‡å‹¿è‡ªè¡Œæ‘³ã€æ’¥ã€å’¬ã€æ’•</b>ï¼Œä»¥å…å‚·å®³çœŸç”²ã€‚",
        "<b>ç¶­æŒé€±æœŸ</b>ï¼š<b>å»ºè­° 3-4 é€±ç‚ºä¸€å€‹å¾ªç’°é€±æœŸ</b>ï¼Œéé•·æ˜“é€ æˆæ§“æ¡¿åŸç†å°è‡´æ–·ç”²æˆ–æŠ˜æï¼Œè«‹å®šæœŸå›åº—å¸ç”²é‡åšã€‚",
        "<b>å¥åº·è§€å¿µ</b>ï¼šæŒ‡ç”²å…¶å¯¦ä¸ç”¨å‘¼å¸ï¼Œåœ¨æ­£å¸¸å¥åº·çš„ç‹€æ…‹ä¸‹ï¼Œæ˜¯å¯ä»¥æŒçºŒæ–½ä½œä¸éœ€ä¼‘æ¯çš„ã€‚"
      ]
    };

    const FAQ_LIST = [
      {
        question: "ç¾å ´æä¾›å“ªäº›ä»˜æ¬¾æ–¹å¼ï¼Ÿ",
        answer: "æˆ‘å€‘æä¾›ã€Œç¾é‡‘ã€èˆ‡ã€ŒéŠ€è¡Œè½‰å¸³ã€æœå‹™ï¼Œç„¡æä¾›ä¿¡ç”¨å¡åˆ·å¡ï¼Œè«‹è¦‹è«’ã€‚"
      },
      {
        question: "é™„è¿‘æœ‰åœè»Šå ´å—ï¼Ÿ",
        answer: "å»ºè­°åœè»Šåœ°é»ï¼š\n\n1. <b>å¿ æ˜å…¬åœ’åœ°ä¸‹åœè»Šå ´</b>ï¼ˆæ­¥è¡Œç´„ 5 åˆ†é˜ï¼‰\n<a href='https://www.google.com/maps/search/?api=1&query=å¿ æ˜å…¬åœ’åœ°ä¸‹åœè»Šå ´' target='_blank' class='text-sand-600 font-medium hover:text-stone-800 text-xs inline-flex items-center gap-1 mt-1 mb-2'>ğŸ“ é–‹å•Ÿ Google Maps</a>\n\n2. <b>å»£ä¸‰ SOGO ç™¾è²¨åœè»Šå ´</b>ï¼ˆæ­¥è¡Œç´„ 3-5 åˆ†é˜ï¼‰\n<a href='https://www.google.com/maps/search/?api=1&query=å»£ä¸‰SOGOç™¾è²¨åœè»Šå ´' target='_blank' class='text-sand-600 font-medium hover:text-stone-800 text-xs inline-flex items-center gap-1 mt-1 mb-2'>ğŸ“ é–‹å•Ÿ Google Maps</a>\n\n3. <b>ä¸­ç¾è¡—åœè»Šå ´</b>ï¼ˆç¾æ‘è·¯ä¸€æ®µ 22 è™Ÿï¼‰\n<a href='https://www.google.com/maps/search/?api=1&query=403è‡ºä¸­å¸‚è¥¿å€å¿ æ˜é‡Œç¾æ‘è·¯ä¸€æ®µ22è™Ÿ' target='_blank' class='text-sand-600 font-medium hover:text-stone-800 text-xs inline-flex items-center gap-1 mt-1 mb-2'>ğŸ“ é–‹å•Ÿ Google Maps</a>\n\n4. <b>ä¸­èˆˆè¡—åœè»Šå ´</b>ï¼ˆä¸­èˆˆè¡— 285 å·· 19 å¼„ 1 è™Ÿï¼‰\n<a href='https://www.google.com/maps/search/?api=1&query=403è‡ºä¸­å¸‚è¥¿å€ä¸­èˆˆè¡—285å··19å¼„1è™Ÿ' target='_blank' class='text-sand-600 font-medium hover:text-stone-800 text-xs inline-flex items-center gap-1 mt-1 mb-2'>ğŸ“ é–‹å•Ÿ Google Maps</a>\n\n5. <b>è‰æ‚Ÿé“åœ°ä¸‹åœè»Šå ´</b>ï¼ˆæ­¥è¡Œç´„ 8-10 åˆ†é˜ï¼Œé©åˆé †ä¾¿é€›è¡—ï¼‰\n<a href='https://www.google.com/maps/search/?api=1&query=è‰æ‚Ÿé“åœ°ä¸‹åœè»Šå ´' target='_blank' class='text-sand-600 font-medium hover:text-stone-800 text-xs inline-flex items-center gap-1 mt-1 mb-2'>ğŸ“ é–‹å•Ÿ Google Maps</a>\n\n<b>æ©Ÿè»Šå¾ˆå¥½åœ</b>ï¼šå‘¨é‚Šæœ‰è¨±å¤šæ©Ÿè»Šåœè»Šæ ¼ï¼Œåœè»Šç›¸ç•¶ä¾¿åˆ©ã€‚\n\nâ€» æ±½è»Šè«‹å‹™å¿…åœåœ¨å‘¨é‚Šåœè»Šå ´å†æ­¥è¡Œå‰å¾€ï¼Œå··å¼„å…§ç„¡æ³•åœè»Šã€‚"
      },
      {
        question: "æ–½ä½œæ™‚é–“å¤§ç´„å¤šä¹…ï¼Ÿ",
        answer: "åŒ…å«å¸ç”²ã€ç²¾ç·»å‰ç½®ä¿é¤Šèˆ‡æ¬¾å¼è¨­è¨ˆï¼Œå»ºè­°é ç•™ 2.5 - 3 å°æ™‚ã€‚æˆ‘å€‘å …æŒæ…¢å·¥å‡ºç´°æ´»ï¼Œç‚ºç¢ºä¿å“è³ªï¼Œè«‹å‹¿è¶•æ™‚é–“ã€‚"
      },
      {
        question: "å¯ä»¥å¸¶åœ–æ–½ä½œå—ï¼Ÿ",
        answer: "å¯ä»¥ï¼æ­¡è¿æ”œå¸¶å–œæ­¡çš„æ¬¾å¼åœ–ç‰‡èˆ‡æˆ‘å€‘è¨è«–ã€‚æˆ‘å€‘æ“…é•·æ—¥ç³» Nuanceã€æ—¥ç³»å€‹æ€§é¢¨æ ¼ä»¥åŠéŸ“ç³»æ¸…æ–°æ¬¾ï¼Œæœƒæ ¹æ“šæ‚¨çš„æŒ‡ç”²ç‹€æ³èˆ‡å–œå¥½é€²è¡Œå®¢è£½åŒ–èª¿æ•´ï¼Œæé«˜æˆå“æ»¿æ„åº¦ã€‚"
      },
      {
        question: "å¯ä»¥ä¾ç…§é ç®—åšè¨­è¨ˆå—ï¼Ÿ",
        answer: "æ²’å•é¡Œï¼æˆ‘å€‘æä¾›å½ˆæ€§çš„å®¢è£½åŒ–æœå‹™ã€‚æ­¡è¿æ‚¨åœ¨è¨è«–æ™‚æå‡ºé ç®—è€ƒé‡ï¼Œæˆ‘å€‘æœƒä¾ç…§æ‚¨çš„é ç®—ç¯„åœï¼Œèª¿æ•´ç´ æé‹ç”¨æˆ–ç°¡åŒ–è¨­è¨ˆç´°ç¯€ï¼Œåœ¨é ç®—å…§ç‚ºæ‚¨æ‰“é€ æœ€å®Œç¾çš„æŒ‡å°–é€ å‹ã€‚"
      },
      {
        question: "æœ‰æä¾›å»¶ç”²æœå‹™å—ï¼Ÿ",
        answer: "æœ‰çš„ï¼Œæˆ‘å€‘æä¾›ã€Œå‡è† å»¶ç”²ã€èˆ‡ã€Œæ°´æ™¶å»¶ç”²ã€æœå‹™ï¼Œå¯ä¿®é£¾ç”²å‹æˆ–å¢åŠ é•·åº¦ã€‚è©³ç´°åƒ¹æ ¼è«‹åƒè€ƒåƒ¹ç›®è¡¨çš„ ADD-ONS å€å¡Šã€‚"
      },
      {
        question: "å‡è† æŒ‡ç”²å¯ä»¥ç¶­æŒå¤šä¹…ï¼Ÿ",
        answer: "ä¸€èˆ¬å»ºè­°ç¶­æŒ 3-4 é€±ã€‚ä¾å€‹äººç”¨æ‰‹ç¿’æ…£èˆ‡æŒ‡ç”²ç”Ÿé•·é€Ÿåº¦ä»¥åŠå­£ç¯€æ°£å€™è€Œç•°ï¼Œéé•·ä¸å¸é™¤å®¹æ˜“å› æ§“æ¡¿åŸç†é€ æˆçœŸç”²å—å‚·ã€‚"
      },
      {
        question: "å­•å©¦å¯ä»¥ä½¿ç”¨å‡è† æŒ‡ç”²å—ï¼Ÿ",
        answer: "æœ¬åº—ä½¿ç”¨é«˜å“è³ªç„¡æ¯’å‡è† ï¼ŒåŸºæœ¬ä¸Šæ˜¯å®‰å…¨çš„ï¼Œä½†å­•æœŸé«”è³ªæ•æ„Ÿï¼Œå»ºè­°æ‚¨å…ˆè«®è©¢é†«ç”Ÿæ„è¦‹ã€‚"
      },
      {
        question: "ç‚ºä»€éº¼æˆ‘çš„å‡è† å®¹æ˜“å‰è½ï¼Ÿ",
        answer: "å¯èƒ½åŸå› åŒ…å«ï¼šæŒ‡å°–å¸¸ç¢°æ°´ã€å¸¸åšå®¶äº‹æœªæˆ´æ‰‹å¥—ã€ç¿’æ…£ç”¨æŒ‡å°–æ‘³æ±è¥¿ï¼Œæˆ–æ˜¯æœ¬èº«æŒ‡ç”²è¼ƒè»Ÿè–„ã€‚å»ºè­°åŠ å¼·ä¿æ¿•ä¸¦æ”¹è®Šç”¨æ‰‹ç¿’æ…£ã€‚"
      }
    ];

    const BOOKING_FORM_TEMPLATE = `â— é ç´„å§“åï¼š
â— é ç´„æ‰‹æ©Ÿï¼š
â— å„ªå…ˆæ–½ä½œæ—¥æœŸï¼š
â— å„ªå…ˆæ–½ä½œæ™‚é–“ï¼š
(é‡Œå®‰æ™‚æ®µï¼š11:00/12:00/14:00/15:00)
(Annæ™‚æ®µï¼š09:00-18:30)
â— æŒ‡å®šç¾ç”²å¸«ï¼š(é‡Œå®‰/å®‰å®‰/ä¸æŒ‡å®š)
â— å‚™é¸æ—¥æœŸï¼š
â— å‚™é¸æ™‚æ®µï¼š
â— æ˜¯å¦éœ€å¸ç”²ï¼š(æ˜¯/å¦)
â— ç•¶æ—¥æ–½ä½œæ¬¾å¼ï¼š(å·²æœ‰æƒ³æ³•å¸¶åœ–å‰å¾€/æä¾›é ç®—è®“ç¾ç”²å¸«è‡ªç”±ç™¼æ®)`;

    // --- COMPONENTS ---

    // 1. Navigation
    const Navigation = ({ activeTab, onTabChange }) => {
      const scrollRef = useRef(null);
      const [showLeftArrow, setShowLeftArrow] = useState(false);
      const [showRightArrow, setShowRightArrow] = useState(true);

      const tabs = [
        { id: PageTab.PRICES, label: 'åƒ¹ç›®è¡¨' },
        { id: PageTab.BOOKING_PROCESS, label: 'é ç´„æµç¨‹' },
        { id: PageTab.ARTISTS, label: 'ç¾ç”²å¸«' },
        { id: PageTab.BOOKING, label: 'é ç´„é ˆçŸ¥' },
        { id: PageTab.PRE_CARE, label: 'æ–½ä½œå‰æº–å‚™' },
        { id: PageTab.AFTER_CARE, label: 'ä¿é¤Šé ˆçŸ¥' },
        { id: PageTab.FAQ, label: 'å¸¸è¦‹QA' },
      ];

      const checkScroll = () => {
        if (scrollRef.current) {
          const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;
          setShowLeftArrow(scrollLeft > 1);
          setShowRightArrow(Math.ceil(scrollLeft + clientWidth) < scrollWidth - 1);
        }
      };

      useEffect(() => {
        checkScroll();
        window.addEventListener('resize', checkScroll);
        return () => window.removeEventListener('resize', checkScroll);
      }, []);

      const scroll = (direction) => {
        if (scrollRef.current) {
          const scrollAmount = 150;
          scrollRef.current.scrollBy({
            left: direction === 'left' ? -scrollAmount : scrollAmount,
            behavior: 'smooth'
          });
        }
      };

      useEffect(() => {
        const tabElement = document.getElementById(`tab-${activeTab}`);
        if (tabElement && scrollRef.current) {
          const container = scrollRef.current;
          const scrollLeft = tabElement.offsetLeft - (container.clientWidth / 2) + (tabElement.clientWidth / 2);
          container.scrollTo({ left: scrollLeft, behavior: 'smooth' });
        }
      }, [activeTab]);

      return (
        <nav className="sticky top-0 z-50 bg-cream-50/95 backdrop-blur-md border-b border-stone-200 shadow-sm">
          <div className="max-w-md mx-auto relative group">
            <div className={`absolute left-0 top-0 bottom-0 z-20 flex items-center bg-gradient-to-r from-cream-50 via-cream-50 to-transparent pr-6 pl-2 transition-opacity duration-300 pointer-events-none ${showLeftArrow ? 'opacity-100' : 'opacity-0'}`}>
              <button onClick={() => scroll('left')} className="w-8 h-8 rounded-full bg-white shadow-md border border-stone-100 flex items-center justify-center text-stone-600 hover:text-stone-900 active:scale-95 transition-all pointer-events-auto">
                <ChevronLeft className="w-4 h-4" />
              </button>
            </div>
            <div ref={scrollRef} onScroll={checkScroll} className="flex overflow-x-auto no-scrollbar py-3 px-4 gap-2 scroll-smooth items-center">
              {tabs.map((tab) => (
                <button
                  key={tab.id}
                  id={`tab-${tab.id}`}
                  onClick={() => onTabChange(tab.id)}
                  className={`whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 flex-shrink-0 border ${activeTab === tab.id ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 hover:bg-stone-100 border-stone-200'}`}
                >
                  {tab.label}
                </button>
              ))}
              <div className="w-8 flex-shrink-0"></div>
            </div>
            <div className={`absolute right-0 top-0 bottom-0 z-20 flex items-center bg-gradient-to-l from-cream-50 via-cream-50 to-transparent pl-6 pr-2 transition-opacity duration-300 pointer-events-none ${showRightArrow ? 'opacity-100' : 'opacity-0'}`}>
              <button onClick={() => scroll('right')} className="w-8 h-8 rounded-full bg-white shadow-md border border-stone-100 flex items-center justify-center text-stone-600 hover:text-stone-900 active:scale-95 transition-all pointer-events-auto">
                <ChevronRight className="w-4 h-4" />
              </button>
            </div>
          </div>
        </nav>
      );
    };

    // 2. PriceSection
    const PriceSection = ({ initialArtist = 'lian' }) => {
      const [activeArtist, setActiveArtist] = useState(initialArtist);

      useEffect(() => {
        setActiveArtist(initialArtist);
      }, [initialArtist]);

      const currentPriceList = activeArtist === 'lian' ? PRICE_LIST_LIAN : PRICE_LIST_ANN;

      return (
        <div className="space-y-8 animate-fade-in pb-20">
          <div className="text-center mb-6">
            <h2 className="font-serif text-2xl text-stone-800 mb-2">Service Menu</h2>
            <div className="w-12 h-0.5 bg-sand-400 mx-auto mb-4"></div>
            
            <span className="inline-block bg-white text-red-800 px-4 py-1.5 rounded-full text-xs font-medium tracking-wide shadow-sm border border-red-100">
              {PEER_WARNING}
            </span>
          </div>

          <div className="flex justify-center gap-4 mb-8">
            <button
              onClick={() => setActiveArtist('lian')}
              className={`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 border ${activeArtist === 'lian' ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 hover:bg-stone-50 border-stone-200'}`}
            >
              Founder é‡Œå®‰
            </button>
            <button
              onClick={() => setActiveArtist('ann')}
              className={`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 border ${activeArtist === 'ann' ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 hover:bg-stone-50 border-stone-200'}`}
            >
              Stylist å®‰å®‰
            </button>
          </div>

          <div className="grid gap-6">
            {currentPriceList.map((category, idx) => (
              <div key={idx} className="bg-white rounded-2xl p-6 shadow-sm border border-stone-100">
                <h3 className="font-serif text-lg text-sand-600 border-b border-stone-100 pb-3 mb-4 tracking-wide">
                  {category.title}
                </h3>
                <ul className="space-y-4">
                  {category.items.map((item, itemIdx) => (
                    <li key={itemIdx} className={`flex justify-between items-baseline text-stone-700 ${item.className || ''}`}>
                      <span className="text-sm md:text-base font-medium">{item.name}</span>
                      <div className="flex-grow border-b border-dotted border-stone-300 mx-3 relative -top-1"></div>
                      <span className="font-serif text-stone-800 font-semibold text-lg whitespace-nowrap">
                        <span className="text-xs mr-1 text-stone-400">$</span>
                        {item.price}
                      </span>
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>

          {activeArtist === 'ann' && (
            <div className="text-center text-xs text-stone-500 bg-cream-50 p-3 rounded-xl border border-stone-100">
              * æ–½ä½œçš†å«åŸºç¤è­·ç†ä½œæ¥­ & å»ºæ§‹
            </div>
          )}
        </div>
      );
    };

    // 3. InfoCard
    const InfoCard = ({ data }) => {
      const parseContent = (text) => {
        const parts = text.split(/(<b>.*?<\/b>)/g);
        return parts.map((part, index) => {
          if (part.startsWith('<b>') && part.endsWith('</b>')) {
            return <strong key={index} className="text-stone-800 font-semibold">{part.replace(/<\/?b>/g, '')}</strong>;
          }
          return <span key={index}>{part}</span>;
        });
      };

      return (
        <div className="animate-fade-in pb-20">
          <div className="text-center mb-8">
            <h2 className="font-serif text-2xl text-stone-800 mb-2">{data.title}</h2>
            <div className="w-12 h-0.5 bg-sand-400 mx-auto"></div>
            {data.subtitle && (
              <div className="mt-5">
                <span className="inline-block bg-stone-800 text-cream-50 px-6 py-2 rounded-full text-base font-medium tracking-widest shadow-md border border-stone-600">
                  {data.subtitle}
                </span>
              </div>
            )}
          </div>

          <div className="bg-white rounded-2xl p-8 shadow-sm border border-stone-100 relative overflow-hidden">
            <div className="absolute top-0 right-0 -mt-8 -mr-8 w-24 h-24 bg-cream-200 rounded-full opacity-50 blur-xl"></div>
            <ul className="space-y-4 relative z-10">
              {data.content.map((item, index) => (
                <li key={index} className="flex gap-3 text-stone-600 leading-relaxed">
                  <span className="text-sand-500 font-serif mt-0.5">0{index + 1}.</span>
                  <span className="flex-1">{parseContent(item)}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      );
    };

    // 4. FaqSection
    const FaqSection = () => {
      const [openIndex, setOpenIndex] = useState(0);
      const toggle = (index) => setOpenIndex(openIndex === index ? null : index);

      return (
        <div className="animate-fade-in pb-20">
          <div className="text-center mb-8">
            <h2 className="font-serif text-2xl text-stone-800 mb-2">å¸¸è¦‹å•é¡Œ Q&A</h2>
            <div className="w-12 h-0.5 bg-sand-400 mx-auto"></div>
          </div>
          <div className="space-y-4">
            {FAQ_LIST.map((faq, index) => (
              <div key={index} className="bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden transition-all duration-300">
                <button onClick={() => toggle(index)} className="w-full flex justify-between items-center p-5 text-left hover:bg-cream-50 transition-colors">
                  <span className="font-medium text-stone-700 pr-4">{faq.question}</span>
                  {openIndex === index ? <ChevronUp className="w-5 h-5 text-sand-500 flex-shrink-0" /> : <ChevronDown className="w-5 h-5 text-stone-400 flex-shrink-0" />}
                </button>
                <div className={`px-5 text-stone-600 text-sm leading-relaxed bg-cream-50/50 transition-all duration-500 ease-in-out overflow-hidden ${openIndex === index ? 'max-h-[1000px] py-5 opacity-100' : 'max-h-0 py-0 opacity-0'}`}>
                  <div dangerouslySetInnerHTML={{ __html: faq.answer.replace(/\n/g, '<br />') }} />
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    // 5. FeatureModal
    const FeatureModal = ({ feature, onClose }) => {
      const [isVisible, setIsVisible] = useState(false);

      useEffect(() => {
        if (feature) {
          setIsVisible(true);
          document.body.style.overflow = 'hidden';
        } else {
          setIsVisible(false);
          document.body.style.overflow = 'unset';
        }
        return () => { document.body.style.overflow = 'unset'; };
      }, [feature]);

      if (!feature) return null;

      const renderContent = (text) => {
        const blocks = text.split('\n\n');
        return blocks.map((block, idx) => {
          if (block.trim().startsWith('ã€')) {
            const lines = block.split('\n');
            const title = lines[0];
            const items = lines.slice(1);
            return (
              <div key={idx} className="bg-cream-50 rounded-xl p-5 mb-4 border border-stone-100 shadow-sm">
                <h4 className="font-bold text-stone-800 mb-3 text-lg flex items-center gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-sand-500"></span>
                  {title}
                </h4>
                <ul className="space-y-2">
                  {items.map((item, i) => (
                    <li key={i} className="flex gap-2 text-stone-600 text-sm">
                       {item.trim().startsWith('â€¢') && <span className="text-sand-400 font-bold mt-0.5">â€¢</span>}
                       <span className="flex-1">{item.replace(/^[â€¢\s]+/, '')}</span>
                    </li>
                  ))}
                </ul>
              </div>
            );
          }
          return (
            <p key={idx} className="mb-4 text-stone-600 leading-relaxed text-justify">
              {block}
            </p>
          );
        });
      };

      return (
        <div className={`fixed inset-0 z-[100] flex items-center justify-center p-4 transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`} role="dialog" aria-modal="true">
          <div className="absolute inset-0 bg-stone-900/40 backdrop-blur-sm transition-opacity" onClick={onClose} />
          <div className={`relative bg-white w-full max-w-sm rounded-2xl shadow-xl p-8 transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-8'}`}>
            <button onClick={onClose} className="absolute top-4 right-4 text-stone-400 hover:text-stone-700 transition-colors p-2 rounded-full hover:bg-stone-50">
              <X className="w-6 h-6" />
            </button>
            <div className="text-center">
              <h3 className="font-serif text-xl md:text-2xl text-stone-800 mb-6 border-b border-sand-200/50 pb-4 inline-block px-4">
                {feature.title}
              </h3>
              <div className="text-stone-600 leading-relaxed text-sm md:text-base text-left whitespace-pre-line max-h-[60vh] overflow-y-auto">
                {renderContent(feature.description)}
              </div>
              <div className="mt-8 flex gap-3 justify-center">
                {feature.lineUrl && (
                  <a href={feature.lineUrl} target="_blank" rel="noopener noreferrer" className="bg-[#06C755] text-white px-6 py-2.5 rounded-full text-sm font-medium hover:bg-[#05a546] transition-colors shadow-lg flex items-center gap-2">
                    <MessageCircle className="w-4 h-4" /> åŠ å…¥èª²ç¨‹å®˜æ–¹ LINE
                  </a>
                )}
                <button onClick={onClose} className={`px-8 py-2.5 rounded-full text-sm font-medium transition-colors shadow-lg ${feature.lineUrl ? 'bg-white text-stone-800 border border-stone-200 hover:bg-stone-50' : 'bg-stone-800 text-white hover:bg-stone-700'}`}>
                  {feature.lineUrl ? 'é—œé–‰' : 'äº†è§£'}
                </button>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // 6. ArtistSection
    const ArtistSection = ({ onViewPrices }) => {
      return (
        <div className="animate-fade-in pb-20">
          <div className="text-center mb-8">
            <h2 className="font-serif text-2xl text-stone-800 mb-2">Artist Team</h2>
            <div className="w-12 h-0.5 bg-sand-400 mx-auto"></div>
            <p className="text-stone-500 text-sm mt-3">å°ˆæ¥­ï¼ç´°å¿ƒï¼ç¨ç‰¹</p>
          </div>
          <div className="space-y-8">
            {ARTIST_LIST.map((artist, idx) => {
              const artistId = idx === 0 ? 'lian' : 'ann';
              return (
                <div key={idx} className="bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden">
                  <div className="p-6 md:p-8">
                    <div className="flex flex-row gap-4 justify-between items-start mb-4">
                      <div>
                        <h3 className="text-xl font-serif text-stone-800 font-semibold flex items-center gap-2">
                          {artist.name}
                          <span className="text-xs bg-sand-500 text-white px-2 py-0.5 rounded-full font-sans font-normal tracking-wide">
                            {artist.title}
                          </span>
                        </h3>
                        <div className="flex items-center gap-1 text-sand-600 text-sm mt-1 font-medium">
                          <BadgeCheck className="w-4 h-4" />
                          <span>{artist.experience}</span>
                        </div>
                      </div>
                      {artist.instagramUrl && (
                        <a href={artist.instagramUrl} target="_blank" rel="noopener noreferrer" className="text-stone-400 hover:text-pink-600 transition-colors p-1.5 bg-stone-50 rounded-full">
                          <Instagram className="w-5 h-5" />
                        </a>
                      )}
                    </div>
                    <div className="flex flex-wrap gap-2 mb-3">
                      {artist.specialties.map((spec, sIdx) => (
                        <span key={`s-${sIdx}`} className="text-xs bg-cream-100 text-stone-600 px-3 py-1 rounded-full border border-stone-200/50"># {spec}</span>
                      ))}
                      {artist.tags.map((tag, tIdx) => (
                        <span key={`t-${tIdx}`} className="text-xs bg-stone-50 text-stone-500 px-3 py-1 rounded-full border border-stone-100">{tag}</span>
                      ))}
                    </div>
                    {artist.certifications && artist.certifications.length > 0 && (
                      <div className="flex flex-wrap gap-2 mb-5">
                        {artist.certifications.map((cert, cIdx) => (
                          <span key={`c-${cIdx}`} className="text-xs bg-slate-100 text-slate-600 px-3 py-1 rounded-full border border-slate-200 font-medium">{cert}</span>
                        ))}
                      </div>
                    )}
                    {(!artist.certifications || artist.certifications.length === 0) && <div className="mb-5"></div>}
                    <div className="bg-cream-50/50 p-5 rounded-xl border border-stone-100/50 mb-6">
                      <p className="text-stone-600 text-sm leading-relaxed whitespace-pre-line text-justify">{artist.description}</p>
                    </div>
                    <button onClick={() => onViewPrices(artistId)} className="w-full py-3 bg-stone-800 text-white text-sm font-medium rounded-xl hover:bg-stone-700 transition-colors flex items-center justify-center gap-2 active:scale-95 shadow-md">
                      æŸ¥çœ‹åƒ¹ç›®è¡¨ <ArrowRight className="w-4 h-4" />
                    </button>
                  </div>
                </div>
              );
            })}
            <div className="text-center mt-8">
               <p className="text-xs text-stone-400">æ¯ä½ç¾ç”²å¸«çš†ç¶“éåš´æ ¼è€ƒæ ¸ï¼Œè‡´åŠ›æ–¼ç‚ºæ‚¨æä¾›æœ€å„ªè³ªçš„æœå‹™ã€‚</p>
            </div>
          </div>
        </div>
      );
    };

    // 7. BookingProcess
    const BookingProcess = ({ onGoToPolicy }) => {
      const [copied, setCopied] = useState(false);
      const [isDepositInfoOpen, setIsDepositInfoOpen] = useState(false);

      const handleCopy = async () => {
        try {
          await navigator.clipboard.writeText(BOOKING_FORM_TEMPLATE);
          setCopied(true);
          setTimeout(() => setCopied(false), 2000);
        } catch (err) {
          console.error('Failed to copy text: ', err);
        }
      };

      return (
        <div className="animate-fade-in pb-20">
          <div className="text-center mb-8">
            <h2 className="font-serif text-2xl text-stone-800 mb-2">é ç´„æµç¨‹</h2>
            <div className="w-12 h-0.5 bg-sand-400 mx-auto"></div>
            <p className="text-stone-500 text-sm mt-3">Simple Booking Steps</p>
          </div>
          <div className="space-y-6">
            <div className="bg-white rounded-2xl p-6 shadow-sm border border-stone-100 flex gap-4">
              <div className="flex-shrink-0 w-10 h-10 rounded-full bg-stone-800 text-white flex items-center justify-center font-serif font-bold text-lg">1</div>
              <div className="flex-grow">
                <h3 className="font-semibold text-stone-800 mb-1">è©³é–±é ˆçŸ¥ & è©¢å•ç©ºæª”</h3>
                <p className="text-sm text-stone-500 mb-3">è«‹å…ˆé–±è®€é ç´„é ˆçŸ¥ï¼Œä¸¦å‚³é€ LINE è¨Šæ¯è©¢å•ç©ºæª”ã€‚</p>
                <button onClick={onGoToPolicy} className="text-sand-600 text-xs font-medium flex items-center gap-1 hover:text-stone-800 transition-colors">
                  å‰å¾€é ç´„é ˆçŸ¥ <ArrowRight className="w-3 h-3" />
                </button>
              </div>
            </div>
            <div className="bg-white rounded-2xl p-6 shadow-sm border border-stone-100">
              <div className="flex gap-4 mb-4">
                 <div className="flex-shrink-0 w-10 h-10 rounded-full bg-sand-500 text-white flex items-center justify-center font-serif font-bold text-lg">2</div>
                <div>
                  <h3 className="font-semibold text-stone-800 mb-1">å¡«å¯«ä¸¦å‚³é€è¡¨å–®</h3>
                  <p className="text-sm text-stone-500">è¤‡è£½ä¸‹æ–¹æ ¼å¼ï¼Œå¡«å¦¥å¾Œå‚³é€è‡³å®˜æ–¹ LINEã€‚</p>
                </div>
              </div>
              <div className="bg-cream-50 rounded-xl p-4 border border-sand-200/50 relative group mb-4">
                <pre className="whitespace-pre-wrap font-sans text-sm text-stone-600 leading-relaxed">{BOOKING_FORM_TEMPLATE}</pre>
                <button onClick={handleCopy} className={`absolute top-3 right-3 p-2 rounded-lg text-xs font-medium transition-all duration-300 flex items-center gap-1.5 shadow-sm ${copied ? 'bg-green-100 text-green-700 border border-green-200' : 'bg-white text-stone-600 border border-stone-200 hover:bg-stone-50'}`}>
                  {copied ? <><Check className="w-3.5 h-3.5" /> å·²è¤‡è£½</> : <><Copy className="w-3.5 h-3.5" /> ä¸€éµè¤‡è£½</>}
                </button>
              </div>
              <a href="https://lin.ee/mWJllZo" target="_blank" rel="noopener noreferrer" className="w-full flex items-center justify-center gap-2 bg-[#06C755] text-white px-4 py-3 rounded-xl text-sm font-medium hover:bg-[#05a546] transition-colors shadow-sm">
                <MessageCircle className="w-4 h-4" /> é–‹å•Ÿ LINE å‚³é€é ç´„
              </a>
            </div>
            <div className="bg-white rounded-2xl p-6 shadow-sm border border-stone-100 flex gap-4">
               <div className="flex-shrink-0 w-10 h-10 rounded-full bg-sand-400 text-white flex items-center justify-center font-serif font-bold text-lg">3</div>
              <div className="flex-grow">
                <h3 className="font-semibold text-stone-800 mb-1">ç¢ºèªæ™‚é–“èˆ‡å®šé‡‘ (æ–°å®¢)</h3>
                <div className="text-sm text-stone-500 space-y-3">
                  <p>æˆ‘å€‘ç¢ºèªæœ‰ç©ºæª”å¾Œï¼Œæœƒæä¾›åŒ¯æ¬¾å¸³è™Ÿã€‚</p>
                  <div className="flex items-start gap-2 bg-cream-50 p-2.5 rounded-lg border border-sand-100">
                    <Clock className="w-4 h-4 text-sand-500 mt-0.5 flex-shrink-0" />
                    <span className="text-stone-600 text-xs">è«‹æ–¼ <span className="font-bold text-stone-800">24 å°æ™‚å…§</span> å®ŒæˆåŒ¯æ¬¾ï¼Œé€¾æ™‚ç³»çµ±å°‡è‡ªå‹•å–æ¶ˆä¿ç•™ã€‚</span>
                  </div>
                  <div className="border-t border-stone-100 pt-2 mt-2">
                    <button onClick={() => setIsDepositInfoOpen(!isDepositInfoOpen)} className="w-full flex justify-between items-center text-xs font-medium text-stone-600 hover:text-stone-900 transition-colors py-1">
                      <span className="flex items-center gap-1"><AlertCircle className="w-3.5 h-3.5" /> å®šé‡‘æ³¨æ„äº‹é …</span>
                      {isDepositInfoOpen ? <ChevronUp className="w-3.5 h-3.5" /> : <ChevronDown className="w-3.5 h-3.5" />}
                    </button>
                    <div className={`overflow-hidden transition-all duration-300 ease-in-out ${isDepositInfoOpen ? 'max-h-60 opacity-100 mt-2' : 'max-h-0 opacity-0 mt-0'}`}>
                      <ul className="text-xs text-stone-500 space-y-1.5 pl-2 bg-stone-50 p-3 rounded-lg">
                        <li className="flex gap-2"><span className="text-sand-400">â€¢</span><span>æ–°å®¢å®šé‡‘ <span className="font-semibold text-stone-700">$500</span>ï¼Œå¯æŠ˜æŠµç•¶æ—¥æ¶ˆè²»ã€‚</span></li>
                        <li className="flex gap-2 text-red-800/80"><span className="text-red-300">â€¢</span><span>ç•¶æ—¥æœªåˆ° (No Show) æˆ–è‡¨æ™‚å–æ¶ˆï¼Œå®šé‡‘æ•ä¸é€€é‚„ã€‚</span></li>
                        <li className="flex gap-2"><span className="text-sand-400">â€¢</span><span>æ›´æ”¹æ™‚é–“è«‹æå‰ 5 å¤©å‘ŠçŸ¥ï¼Œå¦å‰‡å®šé‡‘ä¸äºˆé€€é‚„ã€‚</span></li>
                         <li className="flex gap-2"><span className="text-sand-400">â€¢</span><span>å®šé‡‘è‹¥æœªåœ¨æ™‚é™å…§å…¥å¸³ï¼Œåé¡å°‡é‡‹å‡ºçµ¦å€™è£œå®¢äººã€‚</span></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
             <div className="bg-white rounded-2xl p-6 shadow-sm border border-stone-100 flex gap-4">
               <div className="flex-shrink-0 w-10 h-10 rounded-full bg-stone-300 text-white flex items-center justify-center font-serif font-bold text-lg">4</div>
              <div className="flex-grow">
                <h3 className="font-semibold text-stone-800 mb-1">é ç´„æˆåŠŸ</h3>
                <p className="text-sm text-stone-500 mb-2">ç¢ºèªæ¬¾é …å…¥å¸³å¾Œï¼Œæ‰ç®—æ­£å¼é ç´„æˆåŠŸã€‚</p>
                <div className="inline-flex items-center gap-1.5 text-xs text-sand-600 bg-sand-50 px-2 py-1 rounded-md font-medium">
                  <MapPin className="w-3 h-3" /> å±†æ™‚å°‡æä¾›è©³ç´°å·¥ä½œå®¤åœ°å€
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // 8. Footer
    const Footer = ({ onBackHome, activeTab }) => {
      return (
        <div className="fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-cream-50 via-cream-50 to-transparent z-40">
          <div className="max-w-md mx-auto flex gap-3">
            {activeTab !== PageTab.PRICES && (
              <button onClick={onBackHome} className="flex-1 bg-white border border-stone-200 text-stone-600 font-medium py-3 rounded-xl shadow-sm hover:bg-stone-50 transition-colors text-sm">
                è¿”å›é¦–é 
              </button>
            )}
            <a href="https://lin.ee/mWJllZo" target="_blank" rel="noopener noreferrer" className="flex-1 bg-stone-800 text-white font-medium py-3 rounded-xl shadow-lg hover:bg-stone-700 transition-transform active:scale-95 flex items-center justify-center gap-2 text-sm">
              <MessageCircle className="w-4 h-4" /> ç«‹å³é ç´„
            </a>
            <a href="https://www.instagram.com/regalolian_?igsh=aTVucHJrbWE0YXl6" target="_blank" rel="noopener noreferrer" className="w-12 flex items-center justify-center bg-white border border-stone-200 text-stone-800 rounded-xl shadow-sm hover:text-pink-600 transition-colors">
              <Instagram className="w-5 h-5" />
            </a>
          </div>
        </div>
      );
    };

    // --- APP COMPONENT ---
    const App = () => {
      const [activeTab, setActiveTab] = useState(PageTab.PRICES);
      const [selectedFeature, setSelectedFeature] = useState(null);
      const [priceTabArtist, setPriceTabArtist] = useState('lian');

      const handleViewPrices = (artistId) => {
        setPriceTabArtist(artistId);
        setActiveTab(PageTab.PRICES);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      };

      const renderContent = () => {
        switch (activeTab) {
          case PageTab.PRICES: return <PriceSection initialArtist={priceTabArtist} />;
          case PageTab.BOOKING_PROCESS: return <BookingProcess onGoToPolicy={() => setActiveTab(PageTab.BOOKING)} />;
          case PageTab.ARTISTS: return <ArtistSection onViewPrices={handleViewPrices} />;
          case PageTab.BOOKING: return <InfoCard data={BOOKING_POLICY} />;
          case PageTab.PRE_CARE: return <InfoCard data={PRE_CARE} />;
          case PageTab.AFTER_CARE: return <InfoCard data={AFTER_CARE} />;
          case PageTab.FAQ: return <FaqSection />;
          default: return <PriceSection initialArtist={priceTabArtist} />;
        }
      };

      return (
        <div className="min-h-screen font-sans bg-cream-50 text-stone-800 selection:bg-sand-200">
          <header className="pt-10 pb-6 text-center px-4 bg-gradient-to-b from-cream-100 to-cream-50">
            <h1 className="font-display text-4xl md:text-5xl tracking-[0.2em] text-stone-800 mb-8">{SALON_NAME}</h1>
            <div className="max-w-xs mx-auto space-y-4">
              <div className="grid grid-cols-2 gap-3">
                {SALON_FEATURES.slice(0, 2).map((feature, idx) => (
                  <button key={idx} onClick={() => setSelectedFeature(feature)} className="bg-white/80 border border-sand-200/50 rounded-xl py-3 px-2 text-xs text-stone-600 shadow-sm flex items-center justify-center font-medium hover:bg-white hover:shadow-md hover:scale-105 hover:text-sand-600 transition-all duration-300 active:scale-95">
                    {feature.title}
                  </button>
                ))}
              </div>
              <div className="relative py-2">
                <div className="absolute inset-0 flex items-center" aria-hidden="true">
                  <div className="w-full border-t border-sand-200/50"></div>
                </div>
                <div className="relative flex justify-center">
                  <span className="bg-gradient-to-b from-cream-100 to-cream-50 px-3 text-xs text-stone-500 font-medium tracking-widest">æ“…é•·é¢¨æ ¼</span>
                </div>
              </div>
              <div className="grid grid-cols-2 gap-3">
                {SALON_FEATURES.slice(2, 4).map((feature, idx) => (
                  <button key={idx} onClick={() => setSelectedFeature(feature)} className="bg-white/80 border border-sand-200/50 rounded-xl py-3 px-2 text-xs text-stone-600 shadow-sm flex items-center justify-center font-medium hover:bg-white hover:shadow-md hover:scale-105 hover:text-sand-600 transition-all duration-300 active:scale-95">
                    {feature.title}
                  </button>
                ))}
              </div>
            </div>
          </header>

          <Navigation activeTab={activeTab} onTabChange={setActiveTab} />
          <main className="max-w-md mx-auto px-4 pt-8 min-h-[60vh]">
            {renderContent()}
          </main>
          <Footer onBackHome={() => setActiveTab(PageTab.PRICES)} activeTab={activeTab} />
          <FeatureModal feature={selectedFeature} onClose={() => setSelectedFeature(null)} />
        </div>
      );
    };

    // --- MOUNT ---
    const rootElement = document.getElementById('root');
    const root = createRoot(rootElement);
    root.render(<App />);
  </script>
</body>
</html>
